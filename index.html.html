<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>College Election Voting System</title>
    <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=L3n0zORglnXwuN2P0xSHMJQ3-MBcS1LQsHmNL-P7ym9-UEfImN4FmsSe6URr6UyHpgXh7en-NGfZuTyRenPY8T6wJsRE5iYcI-Jgu0arrf5DGwUcY1Ecv3lqYTIeUIR3x5c4NqFq6g74HLeKhBGtjVWbgeothwa_BtKRrTXw1Ja_V98Mu3Bj4wvCHed4HSPTQFN14vZ1Nj1eWu1wTBGqrI-I90QpYjPftWQmjVLUXIojVjPRBDeFJeS6IVpJboQ4qQ7XNemlXTw_gVKBRXEgfbm6xS6-RN5C9i1JmNtJzgUQkCBAjjceaOnf13jgdj_4otVQkrD18DetD6i-zTLYlGt0aYVDZeXHjC2MgTqYOwTBxvpIjhCt-eqQVS0xexcm8gajei9xL-0HxFkwprYan7s2cGfVmJ_RFAXCC1XwQbUx710ias0drbkrJT_Hdd3cQ_V-IyGQ_6K-MDM4ZveHvwhQfS9L2zhe_5rAjVFHfad6K4LCMcVdV5vUXFhRrQUrhJQ69MX6PQox4OuAzii5muEqF4RWvUXL6ZLONDJmwDdQwzh5j4vE4MzALOev6gRUac9cVi28_DrOyAO7pFZnIhhAA0jbWqA94JVpmZ9oaIo0r5HK-uFGUw-EEARamVGqqG8OplgfzGDtIFAPXjXO9s6kZ1teziw0dxSeuZpLW4BD2LUqgbpAaTI3vq5ZEYnqkVs_QzoHUYrPipNEAawc2NAUS5LYMGMOGg5bzen0cdZ5Gwi33zR-7t2VJt4RpIB1Kx5_XBXjmXoD_Jy9z5GTtbL_niBUaMlNEv9lCxwEgjNnj5C7pJenVbrpaR8ySlka9m8W2H6l7pPBTaDAmKiEy9_8a1a2CnmLURefU8jpneXQD-IlQK7PHDbC7V4LNEwkPUs75uY6a4hEAee7SvsTMQNGgN3Cb4hQ6WROi4nbZ4KDWIpg1G49jANBN6n49V9XnmlB4BjpHpMAyGVH8QPsT2b-V5qANd_qkkAojnkxVLjRM6BjOooU5KLMjviVd-XJFhDKvrLH6hWbem0Is7zrJHB_KWaFktnCviotxjftVw5Wb1UnOKlwmmI4Y3gvwYsncM2daKigmhU7rgdV3UpqhTJ9ZxE8KBktHXLnLkACna2mGGPJ3hXCNXJVlknIUru0hVRKYlwMZUAqucEKTDFVk4t8oSGJwrJKcmbFI9oJej2D1ZcZLUjc79Td5ZU1xfOHDYp65l3BzQf0Z2LNPCv1bJPjKWsvZkdmRl9IVPXojSgnok--JbrF34w5opy-c5kb25dI00s6hv29dga0XNpWTKacuPiaUkSk7i7QSBHwNcA60M79wXwBt9r2qlEGMa1f_kbrajAWCw74aUZ6PBrJyDENSrEek6Nojeh6oYkQFinfSh7AeKOwlGf27tliqi0SIm7bvBPv1noDXpv-mHx_abdmIZKhZ8CDf75mTYXnJkZfGRJXSnnb7PxaYr4PNXrjvJDedWG7JWClyO247-meGx3eJeu-wrzGhhRuNQzNkgwyLEUwXS0d-IdR0Ie08HqBxKxnYWB15PggAuNKBQ2Cgu6NOlZS7QznqNvp5CaxDTpZaZgsjDLi4PlA3gAazNpZ-_AcqrLaMxzhTd-7QcD6ndSEXLflThvnw61bvzQc-FEOUtzu8OsQPxqJ1wne_SxfrZxJq82rJs38z91T0_E5Ip_-MAOiUfj-sXUXXziXxVgsR7vIZmxGMYW7FA2txAIgd7rXECuCvMUTzgyvll5CXEswLZ54Y5j5gd3OQjumyMhdKbPTpdoTUxcuQYIgD4zW6PLk67QQbeIdBXfxLyHwSQND2bKjcNNdyndrxO-h6fGz7B1Xgf7QVn0wlBHa1u_7aoPvOHJ6pWYGuU0YjUXgSUYmKdSYGyWW87LjChnlU6vlU31DtkAzAjQZCviIT_h88yQRTY_C_QLrw18hG6BCQpIZIr5WtdPi1junA0s6fJB-WD9B4TKq7_OUqh7ZVTOkflwXvejrpnELiQT96TMRghnmshLhHfEbKW7VKwAx6VlEMyNEQBKF_7WweRRSxnYhsrIpBswle7abaa1MeXooZG1TMarHaF4tkPlyAhyJq3p_9bMAMPSMAi-fdgF2iITPlbcPnGavewIm7AUw-pp8nklZfq6n39b6GdlZ787m7fl6ARw0CXJC2QYKsqN7fvvLIHCcyT_rrtz4QdcAlPP3CNXkasrlHrWNOSQWoxQMgiseFmw49MWCM20fuQEQVYSJt4HdlUoSY7zLfOldx6cGQcIFfsNbZvRQdR4qihMRa221SuRdHOlmNWlOzA5tvbGY" charset="UTF-8"></script><script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Design System Variables */
        :root {
          /* Primitive Color Tokens */
          --color-white: rgba(255, 255, 255, 1);
          --color-black: rgba(0, 0, 0, 1);
          --color-cream-50: rgba(252, 252, 249, 1);
          --color-cream-100: rgba(255, 255, 253, 1);
          --color-gray-200: rgba(245, 245, 245, 1);
          --color-gray-300: rgba(167, 169, 169, 1);
          --color-gray-400: rgba(119, 124, 124, 1);
          --color-slate-500: rgba(98, 108, 113, 1);
          --color-brown-600: rgba(94, 82, 64, 1);
          --color-charcoal-700: rgba(31, 33, 33, 1);
          --color-charcoal-800: rgba(38, 40, 40, 1);
          --color-slate-900: rgba(19, 52, 59, 1);
          --color-teal-300: rgba(50, 184, 198, 1);
          --color-teal-400: rgba(45, 166, 178, 1);
          --color-teal-500: rgba(33, 128, 141, 1);
          --color-teal-600: rgba(29, 116, 128, 1);
          --color-teal-700: rgba(26, 104, 115, 1);
          --color-teal-800: rgba(41, 150, 161, 1);
          --color-red-400: rgba(255, 84, 89, 1);
          --color-red-500: rgba(192, 21, 47, 1);
          --color-orange-400: rgba(230, 129, 97, 1);
          --color-orange-500: rgba(168, 75, 47, 1);
        
          /* RGB versions for opacity control */
          --color-brown-600-rgb: 94, 82, 64;
          --color-teal-500-rgb: 33, 128, 141;
          --color-slate-900-rgb: 19, 52, 59;
          --color-slate-500-rgb: 98, 108, 113;
          --color-red-500-rgb: 192, 21, 47;
          --color-red-400-rgb: 255, 84, 89;
          --color-orange-500-rgb: 168, 75, 47;
          --color-orange-400-rgb: 230, 129, 97;
        
          /* Background color tokens (Light Mode) */
          --color-bg-1: rgba(59, 130, 246, 0.08);
          --color-bg-2: rgba(245, 158, 11, 0.08);
          --color-bg-3: rgba(34, 197, 94, 0.08);
          --color-bg-4: rgba(239, 68, 68, 0.08);
          --color-bg-5: rgba(147, 51, 234, 0.08);
          --color-bg-6: rgba(249, 115, 22, 0.08);
          --color-bg-7: rgba(236, 72, 153, 0.08);
          --color-bg-8: rgba(6, 182, 212, 0.08);
        
          /* Semantic Color Tokens (Light Mode) */
          --color-background: var(--color-cream-50);
          --color-surface: var(--color-cream-100);
          --color-text: var(--color-slate-900);
          --color-text-secondary: var(--color-slate-500);
          --color-primary: var(--color-teal-500);
          --color-primary-hover: var(--color-teal-600);
          --color-primary-active: var(--color-teal-700);
          --color-secondary: rgba(var(--color-brown-600-rgb), 0.12);
          --color-secondary-hover: rgba(var(--color-brown-600-rgb), 0.2);
          --color-secondary-active: rgba(var(--color-brown-600-rgb), 0.25);
          --color-border: rgba(var(--color-brown-600-rgb), 0.2);
          --color-btn-primary-text: var(--color-cream-50);
          --color-card-border: rgba(var(--color-brown-600-rgb), 0.12);
          --color-card-border-inner: rgba(var(--color-brown-600-rgb), 0.12);
          --color-error: var(--color-red-500);
          --color-success: var(--color-teal-500);
          --color-warning: var(--color-orange-500);
          --color-info: var(--color-slate-500);
          --color-focus-ring: rgba(var(--color-teal-500-rgb), 0.4);
          --color-select-caret: rgba(var(--color-slate-900-rgb), 0.8);
        
          /* Typography */
          --font-family-base: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
          --font-family-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
          --font-size-xs: 11px;
          --font-size-sm: 12px;
          --font-size-base: 14px;
          --font-size-md: 14px;
          --font-size-lg: 16px;
          --font-size-xl: 18px;
          --font-size-2xl: 20px;
          --font-size-3xl: 24px;
          --font-size-4xl: 30px;
          --font-weight-normal: 400;
          --font-weight-medium: 500;
          --font-weight-semibold: 550;
          --font-weight-bold: 600;
          --line-height-tight: 1.2;
          --line-height-normal: 1.5;
          --letter-spacing-tight: -0.01em;
        
          /* Spacing */
          --space-0: 0;
          --space-1: 1px;
          --space-2: 2px;
          --space-4: 4px;
          --space-6: 6px;
          --space-8: 8px;
          --space-10: 10px;
          --space-12: 12px;
          --space-16: 16px;
          --space-20: 20px;
          --space-24: 24px;
          --space-32: 32px;
        
          /* Border Radius */
          --radius-sm: 6px;
          --radius-base: 8px;
          --radius-md: 10px;
          --radius-lg: 12px;
          --radius-full: 9999px;
        
          /* Shadows */
          --shadow-xs: 0 1px 2px rgba(0, 0, 0, 0.02);
          --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.04), 0 1px 2px rgba(0, 0, 0, 0.02);
          --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.04), 0 2px 4px -1px rgba(0, 0, 0, 0.02);
          --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.04), 0 4px 6px -2px rgba(0, 0, 0, 0.02);
          --shadow-inset-sm: inset 0 1px 0 rgba(255, 255, 255, 0.15), inset 0 -1px 0 rgba(0, 0, 0, 0.03);
        
          /* Animation */
          --duration-fast: 150ms;
          --duration-normal: 250ms;
          --ease-standard: cubic-bezier(0.16, 1, 0.3, 1);
        
          /* Layout */
          --container-sm: 640px;
          --container-md: 768px;
          --container-lg: 1024px;
          --container-xl: 1280px;
        }
        
        /* Base styles */
        * {
          box-sizing: border-box;
          margin: 0;
          padding: 0;
        }
        
        html {
          font-size: var(--font-size-base);
          font-family: var(--font-family-base);
          line-height: var(--line-height-normal);
          color: var(--color-text);
          background-color: var(--color-background);
          -webkit-font-smoothing: antialiased;
        }
        
        body {
          margin: 0;
          padding: 0;
        }

        /* Custom Voting System Styles */
        .voting-app {
            min-height: 100vh;
            background: linear-gradient(135deg, var(--color-bg-1), var(--color-bg-3));
        }

        .navbar {
            background: var(--color-surface);
            padding: var(--space-16) var(--space-24);
            box-shadow: var(--shadow-sm);
            border-bottom: 1px solid var(--color-border);
        }

        .navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: var(--container-xl);
            margin: 0 auto;
        }

        .logo {
            font-size: var(--font-size-xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
        }

        .nav-links {
            display: flex;
            gap: var(--space-24);
            list-style: none;
        }

        .nav-links a {
            color: var(--color-text);
            text-decoration: none;
            font-weight: var(--font-weight-medium);
            transition: color var(--duration-fast);
        }

        .nav-links a:hover {
            color: var(--color-primary);
        }

        .container {
            max-width: var(--container-lg);
            margin: 0 auto;
            padding: var(--space-24);
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .card {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--space-32);
            box-shadow: var(--shadow-md);
            border: 1px solid var(--color-card-border);
            margin-bottom: var(--space-24);
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--space-12) var(--space-24);
            border-radius: var(--radius-base);
            font-size: var(--font-size-base);
            font-weight: var(--font-weight-medium);
            cursor: pointer;
            transition: all var(--duration-normal);
            border: none;
            text-decoration: none;
        }

        .btn--primary {
            background: var(--color-primary);
            color: var(--color-btn-primary-text);
        }

        .btn--primary:hover {
            background: var(--color-primary-hover);
        }

        .btn--secondary {
            background: var(--color-secondary);
            color: var(--color-text);
            border: 1px solid var(--color-border);
        }

        .btn--secondary:hover {
            background: var(--color-secondary-hover);
        }

        .btn--success {
            background: var(--color-success);
            color: var(--color-btn-primary-text);
        }

        .btn--danger {
            background: var(--color-error);
            color: var(--color-btn-primary-text);
        }

        .form-group {
            margin-bottom: var(--space-20);
        }

        .form-label {
            display: block;
            margin-bottom: var(--space-8);
            font-weight: var(--font-weight-medium);
            color: var(--color-text);
        }

        .form-control {
            width: 100%;
            padding: var(--space-12);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-base);
            font-size: var(--font-size-base);
            background: var(--color-surface);
            color: var(--color-text);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px var(--color-focus-ring);
        }

        .grid {
            display: grid;
            gap: var(--space-24);
        }

        .grid-2 {
            grid-template-columns: repeat(2, 1fr);
        }

        .grid-3 {
            grid-template-columns: repeat(3, 1fr);
        }

        .hero {
            text-align: center;
            padding: var(--space-32) 0;
        }

        .hero h1 {
            font-size: var(--font-size-4xl);
            font-weight: var(--font-weight-bold);
            margin-bottom: var(--space-16);
            color: var(--color-text);
        }

        .hero p {
            font-size: var(--font-size-lg);
            color: var(--color-text-secondary);
            margin-bottom: var(--space-32);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .role-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-32);
            margin-top: var(--space-32);
        }

        .role-card {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--space-32);
            text-align: center;
            border: 2px solid var(--color-border);
            transition: all var(--duration-normal);
            cursor: pointer;
        }

        .role-card:hover {
            border-color: var(--color-primary);
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .role-card h3 {
            font-size: var(--font-size-xl);
            margin-bottom: var(--space-12);
            color: var(--color-primary);
        }

        .role-card p {
            color: var(--color-text-secondary);
            margin-bottom: var(--space-20);
        }

        .status {
            display: inline-flex;
            align-items: center;
            padding: var(--space-6) var(--space-12);
            border-radius: var(--radius-full);
            font-weight: var(--font-weight-medium);
            font-size: var(--font-size-sm);
        }

        .status--success {
            background-color: rgba(var(--color-teal-500-rgb), 0.15);
            color: var(--color-success);
            border: 1px solid rgba(var(--color-teal-500-rgb), 0.25);
        }

        .status--error {
            background-color: rgba(var(--color-red-500-rgb), 0.15);
            color: var(--color-error);
            border: 1px solid rgba(var(--color-red-500-rgb), 0.25);
        }

        .status--warning {
            background-color: rgba(var(--color-orange-500-rgb), 0.15);
            color: var(--color-warning);
            border: 1px solid rgba(var(--color-orange-500-rgb), 0.25);
        }

        .status--info {
            background-color: rgba(var(--color-slate-500-rgb), 0.15);
            color: var(--color-info);
            border: 1px solid rgba(var(--color-slate-500-rgb), 0.25);
        }

        .candidate-card {
            background: var(--color-surface);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-lg);
            padding: var(--space-20);
            text-align: center;
            transition: all var(--duration-normal);
            cursor: pointer;
        }

        .candidate-card:hover {
            border-color: var(--color-primary);
            box-shadow: var(--shadow-lg);
        }

        .candidate-card.selected {
            border-color: var(--color-primary);
            background: var(--color-bg-1);
            box-shadow: var(--shadow-md);
        }

        .candidate-photo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: var(--color-bg-2);
            margin: 0 auto var(--space-16);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-size-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
        }

        .candidate-symbol {
            display: inline-block;
            padding: var(--space-8) var(--space-12);
            background: var(--color-bg-3);
            border-radius: var(--radius-base);
            font-weight: var(--font-weight-medium);
            margin-top: var(--space-8);
        }

        .chart-container {
            position: relative;
            height: 400px;
            margin: var(--space-24) 0;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--space-20);
            margin: var(--space-24) 0;
        }

        .stat-card {
            background: var(--color-surface);
            border-radius: var(--radius-base);
            padding: var(--space-20);
            text-align: center;
            border: 1px solid var(--color-border);
        }

        .stat-number {
            font-size: var(--font-size-3xl);
            font-weight: var(--font-weight-bold);
            color: var(--color-primary);
        }

        .stat-label {
            color: var(--color-text-secondary);
            font-size: var(--font-size-sm);
            margin-top: var(--space-4);
        }

        .alert {
            padding: var(--space-16);
            border-radius: var(--radius-base);
            margin-bottom: var(--space-16);
            border-left: 4px solid;
        }

        .alert--success {
            background: rgba(var(--color-teal-500-rgb), 0.1);
            border-color: var(--color-success);
            color: var(--color-success);
        }

        .alert--error {
            background: rgba(var(--color-red-500-rgb), 0.1);
            border-color: var(--color-error);
            color: var(--color-error);
        }

        .alert--info {
            background: rgba(var(--color-slate-500-rgb), 0.1);
            border-color: var(--color-info);
            color: var(--color-info);
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--color-surface);
            border-radius: var(--radius-lg);
            padding: var(--space-32);
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .flex {
            display: flex;
        }

        .justify-between {
            justify-content: space-between;
        }

        .items-center {
            align-items: center;
        }

        .gap-16 {
            gap: var(--space-16);
        }

        .mb-16 {
            margin-bottom: var(--space-16);
        }

        .mb-24 {
            margin-bottom: var(--space-24);
        }

        .mt-16 {
            margin-top: var(--space-16);
        }

        .text-center {
            text-align: center;
        }

        .text-sm {
            font-size: var(--font-size-sm);
        }

        .font-bold {
            font-weight: var(--font-weight-bold);
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            .grid-2, .grid-3 {
                grid-template-columns: 1fr;
            }
            
            .nav-links {
                display: none;
            }
            
            .container {
                padding: var(--space-16);
            }
            
            .hero h1 {
                font-size: var(--font-size-3xl);
            }
        }
    </style>
</head>
<body>
    <div class="voting-app">
        <!-- Navigation Bar -->
        <nav class="navbar">
            <div class="navbar-content">
                <div class="logo">🗳️ College Elections 2025</div>
                <ul class="nav-links">
                    <li><a href="#" onclick="showPage('home')">Home</a></li>
                    <li><a href="#" onclick="showPage('results')">Results</a></li>
                    <li><a href="#" onclick="logout()">Logout</a></li>
                </ul>
            </div>
        </nav>

        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="container">
                <div class="hero">
                    <h1>Student Union Elections 2025</h1>
                    <p>Participate in shaping your college's future. Cast your vote securely and make your voice heard in the annual student union elections for academic year 2025-26.</p>
                    
                    <div class="role-cards">
                        <div class="role-card" onclick="showLogin('voter')">
                            <h3>👤 Voter Login</h3>
                            <p>Cast your vote securely for student union positions</p>
                            <button class="btn btn--primary">Login to Vote</button>
                        </div>
                        
                        <div class="role-card" onclick="showLogin('candidate')">
                            <h3>🎯 Candidate Login</h3>
                            <p>Manage your campaign and track election progress</p>
                            <button class="btn btn--secondary">Candidate Portal</button>
                        </div>
                        
                        <div class="role-card" onclick="showLogin('admin')">
                            <h3>⚙️ Admin Login</h3>
                            <p>Manage elections, voters, and system configuration</p>
                            <button class="btn btn--secondary">Admin Dashboard</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Login Page -->
        <div id="login" class="page">
            <div class="container">
                <div class="card" style="max-width: 400px; margin: 0 auto;">
                    <h2 class="mb-24 text-center" id="loginTitle">Login</h2>
                    
                    <div id="loginAlert" class="alert alert--error hidden"></div>
                    
                    <form onsubmit="handleLogin(event)">
                        <div class="form-group">
                            <label class="form-label" for="loginId">Student ID / Username</label>
                            <input type="text" id="loginId" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="loginPassword">Password</label>
                            <input type="password" id="loginPassword" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <button type="submit" class="btn btn--primary" style="width: 100%;">Login</button>
                        </div>
                    </form>
                    
                    <div class="text-center mt-16">
                        <a href="#" onclick="showRegistration()">New voter? Register here</a> | 
                        <a href="#" onclick="showPage('home')">Back to Home</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- OTP Verification -->
        <div id="otp" class="page">
            <div class="container">
                <div class="card" style="max-width: 400px; margin: 0 auto;">
                    <h2 class="mb-24 text-center">OTP Verification</h2>
                    
                    <div class="alert alert--info mb-16">
                        Enter the 6-digit OTP sent to your registered mobile number and email.
                    </div>
                    
                    <form onsubmit="verifyOTP(event)">
                        <div class="form-group">
                            <label class="form-label" for="otpCode">Enter OTP</label>
                            <input type="text" id="otpCode" class="form-control" maxlength="6" placeholder="123456" required>
                        </div>
                        
                        <div class="form-group">
                            <button type="submit" class="btn btn--primary" style="width: 100%;">Verify OTP</button>
                        </div>
                    </form>
                    
                    <div class="text-center mt-16">
                        <a href="#" onclick="resendOTP()">Resend OTP</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Voter Registration -->
        <div id="registration" class="page">
            <div class="container">
                <div class="card" style="max-width: 600px; margin: 0 auto;">
                    <h2 class="mb-24 text-center">Voter Registration</h2>
                    
                    <form onsubmit="handleRegistration(event)">
                        <div class="grid grid-2">
                            <div class="form-group">
                                <label class="form-label" for="regStudentId">Student ID</label>
                                <input type="text" id="regStudentId" class="form-control" placeholder="CS2021001" required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="regName">Full Name</label>
                                <input type="text" id="regName" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="grid grid-2">
                            <div class="form-group">
                                <label class="form-label" for="regEmail">Email</label>
                                <input type="email" id="regEmail" class="form-control" required>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="regPhone">Phone Number</label>
                                <input type="tel" id="regPhone" class="form-control" required>
                            </div>
                        </div>
                        
                        <div class="grid grid-2">
                            <div class="form-group">
                                <label class="form-label" for="regDepartment">Department</label>
                                <select id="regDepartment" class="form-control" required>
                                    <option value="">Select Department</option>
                                    <option value="Computer Science">Computer Science</option>
                                    <option value="Electronics">Electronics</option>
                                    <option value="Mechanical">Mechanical</option>
                                    <option value="Civil">Civil</option>
                                    <option value="Electrical">Electrical</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="regYear">Year of Study</label>
                                <select id="regYear" class="form-control" required>
                                    <option value="">Select Year</option>
                                    <option value="1st Year">1st Year</option>
                                    <option value="2nd Year">2nd Year</option>
                                    <option value="3rd Year">3rd Year</option>
                                    <option value="4th Year">4th Year</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="regPassword">Password</label>
                            <input type="password" id="regPassword" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <button type="submit" class="btn btn--primary" style="width: 100%;">Register</button>
                        </div>
                    </form>
                    
                    <div class="text-center mt-16">
                        <a href="#" onclick="showLogin('voter')">Already registered? Login here</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Voter Dashboard -->
        <div id="voterDashboard" class="page">
            <div class="container">
                <div class="card">
                    <div class="flex justify-between items-center mb-24">
                        <h2>Voter Dashboard</h2>
                        <span class="status status--success" id="voterStatus">Eligible to Vote</span>
                    </div>
                    
                    <div class="grid grid-3">
                        <div class="stat-card">
                            <div class="stat-number">6</div>
                            <div class="stat-label">Total Positions</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="totalCandidates">4</div>
                            <div class="stat-label">Total Candidates</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="voterTurnout">0%</div>
                            <div class="stat-label">Current Turnout</div>
                        </div>
                    </div>
                    
                    <div class="mt-16">
                        <button class="btn btn--primary" onclick="startVoting()" id="startVotingBtn">Start Voting</button>
                        <button class="btn btn--secondary" onclick="showPage('results')">View Live Results</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Voting Interface -->
        <div id="voting" class="page">
            <div class="container">
                <div class="card">
                    <h2 class="mb-24 text-center">Cast Your Vote</h2>
                    
                    <div class="alert alert--info mb-24">
                        Select one candidate for each position. Review your choices before submitting.
                    </div>
                    
                    <div id="ballot"></div>
                    
                    <div class="text-center mt-24">
                        <button class="btn btn--primary" onclick="submitVote()">Submit Vote</button>
                        <button class="btn btn--secondary" onclick="showPage('voterDashboard')">Cancel</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard -->
        <div id="adminDashboard" class="page">
            <div class="container">
                <div class="card">
                    <div class="flex justify-between items-center mb-24">
                        <h2>Admin Dashboard</h2>
                        <div class="flex gap-16">
                            <button class="btn btn--secondary" onclick="showManageElection()">Manage Election</button>
                            <button class="btn btn--secondary" onclick="showManageVoters()">Manage Voters</button>
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number" id="adminTotalVoters">1592</div>
                            <div class="stat-label">Registered Voters</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="adminVotesCast">0</div>
                            <div class="stat-label">Votes Cast</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="adminTurnoutPercent">0%</div>
                            <div class="stat-label">Turnout</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="adminCandidateCount">4</div>
                            <div class="stat-label">Active Candidates</div>
                        </div>
                    </div>
                    
                    <div class="card mt-24">
                        <h3 class="mb-16">Election Status</h3>
                        <div class="flex justify-between items-center">
                            <div>
                                <p><strong>Status:</strong> <span class="status status--info" id="electionStatus">Active</span></p>
                                <p><strong>Voting Period:</strong> November 15, 2025 (09:00 - 17:00)</p>
                                <p><strong>Results Declaration:</strong> November 15, 2025 (19:00)</p>
                            </div>
                            <div>
                                <button class="btn btn--success" onclick="declareResults()">Declare Results</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Candidate Dashboard -->
        <div id="candidateDashboard" class="page">
            <div class="container">
                <div class="card">
                    <h2 class="mb-24">Candidate Dashboard</h2>
                    
                    <div class="grid grid-2">
                        <div class="card">
                            <h3 class="mb-16">Your Campaign</h3>
                            <div id="candidateInfo">
                                <p><strong>Name:</strong> <span id="candidateName">-</span></p>
                                <p><strong>Position:</strong> <span id="candidatePosition">-</span></p>
                                <p><strong>Department:</strong> <span id="candidateDepartment">-</span></p>
                                <p><strong>Symbol:</strong> <span id="candidateSymbol">-</span></p>
                            </div>
                            <button class="btn btn--secondary mt-16" onclick="editCampaign()">Edit Campaign</button>
                        </div>
                        
                        <div class="card">
                            <h3 class="mb-16">Live Results</h3>
                            <div class="stat-card">
                                <div class="stat-number" id="candidateVotes">0</div>
                                <div class="stat-label">Votes Received</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Page -->
        <div id="results" class="page">
            <div class="container">
                <div class="card">
                    <h2 class="mb-24 text-center">Live Election Results</h2>
                    
                    <div class="stats-grid mb-24">
                        <div class="stat-card">
                            <div class="stat-number" id="resultsTotalVotes">0</div>
                            <div class="stat-label">Total Votes Cast</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="resultsVoterTurnout">0%</div>
                            <div class="stat-label">Voter Turnout</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="resultsPositions">6</div>
                            <div class="stat-label">Positions</div>
                        </div>
                    </div>
                    
                    <div id="positionResults"></div>
                    
                    <div class="chart-container">
                        <canvas id="resultsChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- OTP Modal -->
    <div id="otpModal" class="modal">
        <div class="modal-content">
            <h3 class="mb-16">Vote Confirmation</h3>
            <p class="mb-16">Enter the OTP sent to your registered mobile number to confirm your vote:</p>
            <input type="text" id="voteOtp" class="form-control mb-16" placeholder="Enter 6-digit OTP" maxlength="6">
            <div class="flex gap-16">
                <button class="btn btn--primary" onclick="confirmVote()">Confirm Vote</button>
                <button class="btn btn--secondary" onclick="closeModal('otpModal')">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content text-center">
            <h3 class="mb-16">Vote Submitted Successfully! ✅</h3>
            <p class="mb-16">Your vote has been recorded securely. Thank you for participating in the election.</p>
            <div class="alert alert--success mb-16">
                <strong>Receipt ID:</strong> <span id="receiptId"></span>
            </div>
            <button class="btn btn--primary" onclick="closeModal('successModal'); showPage('voterDashboard')">Continue</button>
        </div>
    </div>

    <script>
        // Application Data
        const electionData = {
            title: "Student Union Elections 2025",
            description: "Annual student union elections for academic year 2025-26",
            election_date: "2025-11-15",
            positions: ["President", "Vice President", "Secretary", "Treasurer", "Cultural Secretary", "Sports Secretary"]
        };

        const candidates = [
            { id: 1, name: "Rajesh Kumar", position: "President", department: "Computer Science", year: "3rd Year", vote_count: 0, manifesto: "Focused on improving campus infrastructure and student welfare", symbol: "Book" },
            { id: 2, name: "Priya Sharma", position: "President", department: "Electronics", year: "4th Year", vote_count: 0, manifesto: "Advocating for better academic facilities and career guidance", symbol: "Lamp" },
            { id: 3, name: "Amit Patel", position: "Vice President", department: "Mechanical", year: "3rd Year", vote_count: 0, manifesto: "Promoting sports and extracurricular activities", symbol: "Star" },
            { id: 4, name: "Sneha Gupta", position: "Secretary", department: "Civil", year: "2nd Year", vote_count: 0, manifesto: "Improving student services and administrative processes", symbol: "Pen" }
        ];

        const voters = [
            { id: "CS2021001", name: "Arjun Singh", email: "arjun.singh@college.edu", phone: "+91-9876543210", department: "Computer Science", year: "3rd Year", has_voted: false, registration_status: "approved" },
            { id: "EC2020055", name: "Kavya Reddy", email: "kavya.reddy@college.edu", phone: "+91-9876543211", department: "Electronics", year: "4th Year", has_voted: false, registration_status: "approved" }
        ];

        const adminUsers = [
            { username: "admin", password: "admin123", role: "administrator", name: "System Administrator" },
            { username: "election_officer", password: "officer123", role: "election_officer", name: "Chief Election Officer" }
        ];

        // Application State
        let currentUser = null;
        let currentRole = null;
        let selectedVotes = {};
        let votingInProgress = false;
        let totalVotesCast = 0;
        let resultsChart = null;

        // Helper Functions
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        function showAlert(message, type = 'error') {
            const alert = document.getElementById('loginAlert');
            alert.textContent = message;
            alert.className = `alert alert--${type}`;
            alert.classList.remove('hidden');
        }

        function hideAlert() {
            document.getElementById('loginAlert').classList.add('hidden');
        }

        function showModal(modalId) {
            document.getElementById(modalId).classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        function generateReceiptId() {
            return 'RCP' + Date.now().toString().slice(-8);
        }

        function generateOTP() {
            return Math.floor(100000 + Math.random() * 900000).toString();
        }

        // Authentication Functions
        function showLogin(role) {
            currentRole = role;
            const titles = {
                'voter': 'Voter Login',
                'candidate': 'Candidate Login', 
                'admin': 'Admin Login'
            };
            
            document.getElementById('loginTitle').textContent = titles[role];
            hideAlert();
            showPage('login');
        }

        function showRegistration() {
            showPage('registration');
        }

        function handleLogin(event) {
            event.preventDefault();
            
            const loginId = document.getElementById('loginId').value;
            const password = document.getElementById('loginPassword').value;
            
            if (currentRole === 'admin') {
                const admin = adminUsers.find(a => a.username === loginId && a.password === password);
                if (admin) {
                    currentUser = admin;
                    showOTPVerification();
                } else {
                    showAlert('Invalid admin credentials');
                }
            } else if (currentRole === 'voter') {
                const voter = voters.find(v => v.id === loginId);
                if (voter && voter.registration_status === 'approved') {
                    currentUser = voter;
                    showOTPVerification();
                } else {
                    showAlert('Invalid voter credentials or registration not approved');
                }
            } else if (currentRole === 'candidate') {
                const candidate = candidates.find(c => c.id.toString() === loginId);
                if (candidate) {
                    currentUser = candidate;
                    showOTPVerification();
                } else {
                    showAlert('Invalid candidate credentials');
                }
            }
        }

        function showOTPVerification() {
            showPage('otp');
            // Simulate OTP sent
            setTimeout(() => {
                alert(`OTP sent to registered contact: 123456 (Demo OTP)`);
            }, 500);
        }

        function verifyOTP(event) {
            event.preventDefault();
            
            const otp = document.getElementById('otpCode').value;
            
            // Demo OTP is always 123456
            if (otp === '123456') {
                redirectToDashboard();
            } else {
                alert('Invalid OTP. Please try again. (Demo OTP: 123456)');
            }
        }

        function resendOTP() {
            alert('OTP resent: 123456 (Demo OTP)');
        }

        function redirectToDashboard() {
            if (currentRole === 'admin') {
                updateAdminDashboard();
                showPage('adminDashboard');
            } else if (currentRole === 'voter') {
                updateVoterDashboard();
                showPage('voterDashboard');
            } else if (currentRole === 'candidate') {
                updateCandidateDashboard();
                showPage('candidateDashboard');
            }
        }

        function handleRegistration(event) {
            event.preventDefault();
            
            const formData = {
                id: document.getElementById('regStudentId').value,
                name: document.getElementById('regName').value,
                email: document.getElementById('regEmail').value,
                phone: document.getElementById('regPhone').value,
                department: document.getElementById('regDepartment').value,
                year: document.getElementById('regYear').value,
                password: document.getElementById('regPassword').value,
                has_voted: false,
                registration_status: 'approved'
            };
            
            // Check if student ID already exists
            if (voters.find(v => v.id === formData.id)) {
                alert('Student ID already registered!');
                return;
            }
            
            voters.push(formData);
            alert('Registration successful! You can now login to vote.');
            showLogin('voter');
        }

        function logout() {
            currentUser = null;
            currentRole = null;
            selectedVotes = {};
            showPage('home');
        }

        // Dashboard Functions
        function updateVoterDashboard() {
            if (currentUser && currentUser.has_voted) {
                document.getElementById('voterStatus').textContent = 'Vote Already Cast';
                document.getElementById('voterStatus').className = 'status status--warning';
                document.getElementById('startVotingBtn').textContent = 'View Results';
                document.getElementById('startVotingBtn').onclick = () => showPage('results');
            }
            
            document.getElementById('totalCandidates').textContent = candidates.length;
            updateTurnoutDisplay();
        }

        function updateAdminDashboard() {
            document.getElementById('adminTotalVoters').textContent = voters.length;
            document.getElementById('adminVotesCast').textContent = totalVotesCast;
            document.getElementById('adminTurnoutPercent').textContent = Math.round((totalVotesCast / voters.length) * 100) + '%';
            document.getElementById('adminCandidateCount').textContent = candidates.length;
        }

        function updateCandidateDashboard() {
            if (currentUser) {
                document.getElementById('candidateName').textContent = currentUser.name;
                document.getElementById('candidatePosition').textContent = currentUser.position;
                document.getElementById('candidateDepartment').textContent = currentUser.department;
                document.getElementById('candidateSymbol').textContent = currentUser.symbol;
                document.getElementById('candidateVotes').textContent = currentUser.vote_count;
            }
        }

        function updateTurnoutDisplay() {
            const turnout = Math.round((totalVotesCast / voters.length) * 100);
            document.getElementById('voterTurnout').textContent = turnout + '%';
        }

        // Voting Functions
        function startVoting() {
            if (currentUser && currentUser.has_voted) {
                alert('You have already cast your vote!');
                return;
            }
            
            generateBallot();
            showPage('voting');
        }

        function generateBallot() {
            const ballot = document.getElementById('ballot');
            ballot.innerHTML = '';
            
            const positionsWithCandidates = {};
            
            // Group candidates by position
            candidates.forEach(candidate => {
                if (!positionsWithCandidates[candidate.position]) {
                    positionsWithCandidates[candidate.position] = [];
                }
                positionsWithCandidates[candidate.position].push(candidate);
            });
            
            // Create ballot for each position
            Object.keys(positionsWithCandidates).forEach(position => {
                const positionDiv = document.createElement('div');
                positionDiv.className = 'card mb-24';
                
                positionDiv.innerHTML = `
                    <h3 class="mb-16">${position}</h3>
                    <div class="grid grid-2" id="position-${position.replace(' ', '-')}">
                        ${positionsWithCandidates[position].map(candidate => `
                            <div class="candidate-card" onclick="selectCandidate('${position}', ${candidate.id})" id="candidate-${candidate.id}">
                                <div class="candidate-photo">${candidate.name.charAt(0)}</div>
                                <h4>${candidate.name}</h4>
                                <p class="text-sm">${candidate.department} - ${candidate.year}</p>
                                <div class="candidate-symbol">${candidate.symbol}</div>
                                <p class="text-sm mt-16">${candidate.manifesto}</p>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                ballot.appendChild(positionDiv);
            });
        }

        function selectCandidate(position, candidateId) {
            // Remove previous selection for this position
            document.querySelectorAll(`#position-${position.replace(' ', '-')} .candidate-card`)
                .forEach(card => card.classList.remove('selected'));
            
            // Add selection to clicked candidate
            document.getElementById(`candidate-${candidateId}`).classList.add('selected');
            
            selectedVotes[position] = candidateId;
        }

        function submitVote() {
            if (Object.keys(selectedVotes).length === 0) {
                alert('Please select at least one candidate before submitting.');
                return;
            }
            
            document.getElementById('voteOtp').value = '';
            showModal('otpModal');
        }

        function confirmVote() {
            const otp = document.getElementById('voteOtp').value;
            
            if (otp !== '123456') {
                alert('Invalid OTP. Please try again. (Demo OTP: 123456)');
                return;
            }
            
            // Process the vote
            Object.values(selectedVotes).forEach(candidateId => {
                const candidate = candidates.find(c => c.id === candidateId);
                if (candidate) {
                    candidate.vote_count++;
                }
            });
            
            // Update voter status
            if (currentUser) {
                currentUser.has_voted = true;
            }
            
            totalVotesCast++;
            
            // Generate receipt
            document.getElementById('receiptId').textContent = generateReceiptId();
            
            closeModal('otpModal');
            showModal('successModal');
            
            // Reset voting state
            selectedVotes = {};
            updateResultsDisplay();
        }

        // Results Functions
        function updateResultsDisplay() {
            document.getElementById('resultsTotalVotes').textContent = totalVotesCast;
            document.getElementById('resultsVoterTurnout').textContent = Math.round((totalVotesCast / voters.length) * 100) + '%';
            
            const resultsContainer = document.getElementById('positionResults');
            resultsContainer.innerHTML = '';
            
            const positionsWithResults = {};
            
            // Group candidates by position with votes
            candidates.forEach(candidate => {
                if (!positionsWithResults[candidate.position]) {
                    positionsWithResults[candidate.position] = [];
                }
                positionsWithResults[candidate.position].push(candidate);
            });
            
            // Display results for each position
            Object.keys(positionsWithResults).forEach(position => {
                const positionCandidates = positionsWithResults[position].sort((a, b) => b.vote_count - a.vote_count);
                const totalPositionVotes = positionCandidates.reduce((sum, c) => sum + c.vote_count, 0);
                
                const positionDiv = document.createElement('div');
                positionDiv.className = 'card mb-24';
                
                positionDiv.innerHTML = `
                    <h3 class="mb-16">${position}</h3>
                    <div class="grid">
                        ${positionCandidates.map((candidate, index) => {
                            const percentage = totalPositionVotes > 0 ? ((candidate.vote_count / totalPositionVotes) * 100).toFixed(1) : 0;
                            const isWinner = index === 0 && candidate.vote_count > 0;
                            return `
                                <div class="flex justify-between items-center" style="padding: var(--space-12); ${isWinner ? 'background: var(--color-bg-3); border-radius: var(--radius-base);' : ''}">
                                    <div class="flex items-center gap-16">
                                        <div class="candidate-photo" style="width: 40px; height: 40px; font-size: var(--font-size-base);">
                                            ${candidate.name.charAt(0)}
                                        </div>
                                        <div>
                                            <strong>${candidate.name}</strong>
                                            ${isWinner ? '<span class="status status--success ml-8">Winner</span>' : ''}
                                            <br>
                                            <small>${candidate.department}</small>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <div class="stat-number" style="font-size: var(--font-size-xl);">${candidate.vote_count}</div>
                                        <div class="stat-label">${percentage}%</div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>
                `;
                
                resultsContainer.appendChild(positionDiv);
            });
            
            updateResultsChart();
        }

        function updateResultsChart() {
            const ctx = document.getElementById('resultsChart').getContext('2d');
            
            if (resultsChart) {
                resultsChart.destroy();
            }
            
            const chartData = {
                labels: candidates.map(c => c.name),
                datasets: [{
                    label: 'Votes',
                    data: candidates.map(c => c.vote_count),
                    backgroundColor: [
                        '#1FB8CD', '#FFC185', '#B4413C', '#ECEBD5', 
                        '#5D878F', '#DB4545', '#D2BA4C', '#964325'
                    ]
                }]
            };
            
            resultsChart = new Chart(ctx, {
                type: 'bar',
                data: chartData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Vote Distribution'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1
                            }
                        }
                    }
                }
            });
        }

        function declareResults() {
            if (totalVotesCast === 0) {
                alert('No votes have been cast yet!');
                return;
            }
            
            updateResultsDisplay();
            alert('Results have been officially declared!');
            showPage('results');
        }

        // Admin Functions
        function showManageElection() {
            alert('Election Management: Configure election parameters, timeline, and settings.');
        }

        function showManageVoters() {
            alert('Voter Management: View and manage registered voters, verify eligibility.');
        }

        function editCampaign() {
            alert('Campaign Management: Update manifesto, photos, and campaign materials.');
        }

        // Initialize Application
        function initializeApp() {
            updateResultsDisplay();
            
            // Auto-refresh results every 10 seconds when on results page
            setInterval(() => {
                const currentPage = document.querySelector('.page.active');
                if (currentPage && currentPage.id === 'results') {
                    updateResultsDisplay();
                }
            }, 10000);
        }

        // Start the application
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
   <script src="script.js"></script>
</body>
</html>